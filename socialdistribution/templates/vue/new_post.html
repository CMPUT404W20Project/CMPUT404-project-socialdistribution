{% extends "./base.html" %}
{% load static %}
{% block content %}
{% load bootstrap4 %}
{% bootstrap_javascript jquery='full' %}
{{form.media}}

<!--NEW POST-->
<div class="container" id="new-post">
    <div>
        <div class="card post-card">
            <div class="card-body">
                <h1 class="card-title">New Post</h1>
                <form method="POST" enctype="multipart/form-data">

                    {% csrf_token %}

                    <div style="display:none">
                        Author: {{ form.author }}
                    </div>
                    <div>
                        {{ form.title }}
                    </div>
                    <div>
                        {{ form.content }}
                    </div>
                    <div>
                        {{ form.image_file }}
                    </div>
                    <div>
                        Unlisted: {{ form.unlisted }}
                    </div>
                    <div>
                        Content Type: {{ form.contentType }}
                    </div>
                    <div>
                        Categories: <input type="text" data-role="tagsinput" class="form-control" name="categories">
                    </div>
                    <div>
                        {{ form.published }}
                    </div>
                    <div id="post-visibility">
                        Visibility: {{ form.visibility }}
                    </div>

                    <button class="open-visibileTo-button" type="button" style="visibility: hidden;">visibileTo</button>
                    <div style="display: none;">
                        {{ form.visibleTo }}
                    </div>
                    <br>

                    <input type="submit" class="btn btn-primary" value="Submit">
                </form>

                <div class="form-popup" id="myForm" style="display: none; outline: 1px solid blue;">
                    <button class="close-visibileTo-button" type="button">CLOSE</button>
                    <form class="form-container">
                        <h3>Visible To</h3>
                        {% for friend in friendList %}
                        <input type="checkbox" value="{{ friend.friend.url }}"
                            class="visibile-to-friends">{{ friend.friend }}</input>
                        {% endfor %}
                    </form>
                </div>

            </div>
        </div>
    </div>
</div>

<!-- CSS -->
<link rel="stylesheet" href="{% static 'css/vue/new_post.css' %}">

<!-- JS -->
<script defer type="text/javascript" src="{% static 'js/vue/new_post.js' %}"></script>

<script type="text/javascript" src="{% static 'js/posts.js' %}"></script>
<script type="text/javascript" src="{% static 'js/bootstrap-tagsinput.js' %}"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js" type="text/javascript"></script>
<script src="https://ajax.aspnetcdn.com/ajax/jquery.templates/beta1/jquery.tmpl.min.js" type="text/javascript"></script>

{% endblock content %}